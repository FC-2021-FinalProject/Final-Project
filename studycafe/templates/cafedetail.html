{% extends 'base.html' %}
{% block head%}
{% load static %}
<link rel="stylesheet" href="{% static "calendar.css" %}">
<script defer type="text/javascript" src="/static/calendar.js"></script>
{% endblock head %}
{% block content %}
{% include 'header-nav.html' %}

<section class="page-wrapper cafedetail-page-wrapper">
    <h2 class="visually-hidden">{{cafe.name}} Detail Page</h2>
    <section class="cafe-basics-container">
        <article class="cafe-info-wrapper">
            <h3>{{cafe.name}}</h3>
            <address class="cafe-address">
                <span>{{cafe.address}}</span>
                <span>phone number: </span>
            </address>
        </article>
        <article class="share-save-wrapper">
            {% if user.personal_user %}
            <a href="#">
                <i class="fas fa-share-alt fa-lg"></i>
            </a>
            <a href="{% url 'bookmark' cafe.pk %}">
                {% if is_bookmarked %}
                <i class="fas fa-bookmark fa-lg bookmarked"></i>
                {% else %}
                <i class="fas fa-bookmark fa-lg gray"></i>
                {% endif %}
            </a>
            {% endif %}
        </article>
    </section>
    <section class="cafedetail-information-wrapper">
        <article class="cafedetail-navigation-wrapper">
            <nav>
                <ul class="cafe-detail-nav">
                    <li>지점 소개</li>
                    <li>내부 모습</li>
                    <li>위치</li>
                    <li>후기</li>
                </ul>
            </nav>

            <section class="cafedetail-sections-wrapper">
                <article class="cafe-detail-wrapper cafe-wrapper">
                    <h3>지점소개</h3>
                    <article class="cafe-hours-wrapper">
                        <h4>이용 시간</h4>
                        <dl>
                            <dt>평일:</dt>
                            <dd>{{cafe.business_hour_start}} ~ {{cafe.business_hour_end}}</dd>
                            <dt>토요일:</dt>
                            <dd>{{cafe.business_hour_start}} ~ {{cafe.business_hour_end}}</dd>
                            <dt>일요일:</dt>
                            <dd>{{cafe.business_hour_start}} ~ {{cafe.business_hour_end}}</dd>
                            <dt>휴무일:</dt>
                            <dd>없음</dd>
                        </dl>
                    </article>
                    <article class="cafe-facilities-wrapper">
                        <h4>편의시설 및 서비스</h4>
                        <ul class="facility-items-wrapper">
                            {% if cafe.parking %}
                            <li class="facility-items">
                                <i class="fas fa-parking"></i>
                            </li>
                            {% endif %}
                            {% if cafe.drinks %}
                            <li class="facility-items">
                                <i class="fas fa-coffee"></i>
                            </li>
                            {% endif %}
                            {% if cafe.wifi %}
                            <li class="facility-items">
                                <i class="fas fa-wifi"></i>
                            </li>
                            {% endif %}
                            {% if cafe.printer %}
                            <li class="facility-items">
                                <i class="fas fa-print"></i>
                            </li>
                            {% endif %}
                            {% if cafe.security %}
                            <li class="facility-items">    
                                <img src="https://s3.ap-northeast-2.amazonaws.com/ones.cloud/images/2017/9/15/16/761549_1505459131213.png" alt="Icon for multi-security features on premise">
                            </li>
                            {% endif %}
                        </ul>
                    </article>
                </article>

                <article class="cafe-detail-wrapper gallery-wrapper">
                    <h3>내부 모습</h3>
                    <!-- 사진 여러장 받도록 모델 수정/ 순회해서 여러 사진 풀어주기 -->
                    <img src="{{cafe.img}}" alt="cafe.name" width="250px;">
                </article>

                <article class="cafe-detail-wrapper location-wrapper">
                    <h3>위치</h3>
                    <p>Google map of study cafe location to be inserted</p>
                </article>

                <article class="cafe-detail-wrapper review-wrapper">
                    <h3>후기/별점</h3>
                    {% for review in reviews %}
                    <div class="user-review-wrapper">
                        <!-- Need to check one s3 for personal user profile picture is set up -->
                            <div> {{review.write.avat}} </div>
                            <div> {{review.writer.name}} </div>
                            <div> {{review.created_at}} </div>
                            <div> {{review.content}} </div>
                    </div>
                    {% endfor %}
                    <div>
                        <form action="{% url 'review' cafe.pk%}" method="POST">
                            {% csrf_token %}
                            <label class="visually-hidden" for="review">Review:</label>
                            <input type="text" id="review" name="review" placeholder="Share your experience here with other users!">
                            <button>Share review</button>
                        </form>
                    </div>
                </article>
                
            </section>
        
        </article>


        <article class="cafe-booking-wrapper">
        <h3>예약하기</h3>
        <div>
            <form class="booking-form-wrapper" action="{% url 'reservation' cafe.pk %}" method="POST">
                {% csrf_token %}
                <div class="date-picker">

                    <input class="date-picker-selector" type="text" name="date" placeholder="Select date">
                    <div class="calendar"></div>
                </div>
                <label for="start_time">Start time:</label>
                <input type="text" id="start_time" name="start_time" placeholder="시작 시간">
                <label for="time">Hours needed:</label>
                <input type="text" id="time" name="time" placeholder="이용 시간">
                <label for="seat">Choose seat:</label>
                <input type="text" id="seat" name="seat" placeholder="좌석을 선택하세요">
                <button class="resev_bt" type="submit" onclick="return confirm('예약하시겠습니까?');">예약하기</button>
            </form>
        </div>
        </article>
    </section> 
</section>
{% endblock content %}